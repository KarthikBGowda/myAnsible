---
  - hosts: mywebservers
    become: yes
    gather_facts: yes
    tasks:
      - name: Installing Apache server in node
        apt:
          name: apache2
          state: absent
        when: ansible_os_family=="Debian"

      - name: Starting apache2
        service: 
          name: apache2
          state: started
        when: ansible_os_family=="Debian"

      - name: Install httpd webserver on redhat
        dnf:
          name: httpd
          state: present
        when: ansible_os_family=="RedHat"

      
      